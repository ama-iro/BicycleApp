<% provide(:title, "投稿の編集") %>
<div class="container">
  <div class="row">
    <div class="mx-auto", style="width: 60%;">
      <div class="headtext-post">
        <p>編集</p>
      </div>
      <%= form_with model: @post, local: true do |f| %>
        <%= render 'shared/error_messages', object: f.object %>
        <%= f.fields_for :images do |i| %>
          <div class="clearfix">
            <ul id="previews">
              <li class="input">
                <label class="upload-label">
                  <div class="upload-label__text">
                    <i class="far fa-images"><br>クリック、または画像をドラッグ</i>
                    <div class="input-area">
                      <%= i.file_field :image_url, class: "hidden image_upload" %>
                    </div>
                  </div>
                </label>
              </li>
            </ul>
          </div>
        <% end %>

        <div class = 'form-group'>
          <%= f.label :title %>
          <%= f.text_field :title, class: 'form-control', id: 'post_title' %>
        </div>
        <div class = 'form-group'>
          <%= f.label :area %>
          <%= f.select :area, {'北海道': 0, '東北': 1, '関東': 2, '中部': 3, '近畿': 4,
                               '中国': 5, '四国': 6, '九州、沖縄': 7},
                              { include_blank: '選択してください'}
                               %>
        </div>
        <div class = 'form-group'>
          <%= f.label :place %>
          <%= f.text_field :place, size: "30x4", class: 'form-control', id: 'post_place' %>
        </div>
        <div class = 'form-group'>
          <%= f.label :description %>
          <%= f.text_field :description, size: "60x4", class: 'form-control', id: 'post_description' %>
        </div>
        <div class = 'form-group'>
          <%= f.label :required_time %> [時間]
          <%= f.number_field :required_time, class: 'form-control', id: 'post_required_time',
                                             step: 0.5, in: 0.5..24.0 %>
        </div>

        <%= f.submit "更新する", class: 'btn btn-primary' %>
        <p><%= link_to "料理を削除する", post_path(@post), method: :delete,
                                   data: { confirm: "本当にこの料理を削除してよろしいですか？" } %>
        </p>
      <% end %>

    </div>
  </div>
</div>
